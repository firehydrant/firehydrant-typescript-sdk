/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

export type Detail = {
  /**
   * The incident detail question (max 255 characters)
   */
  question: string;
  /**
   * The prompt to display when collecting this detail
   */
  prompt: string;
  /**
   * Optional unique identifier for this detail
   */
  slug?: string | null | undefined;
};

export type HighValueEvents = {
  /**
   * Include incident status change events in the timeline
   */
  incidentStatus: boolean;
  /**
   * Include bulk updates (including runbook or automation events) in the timeline
   */
  bulkMilestoneUpdate: boolean;
  /**
   * Include any catalog item impact events in the timeline
   */
  impactUpdate: boolean;
  /**
   * Include any handoff events in the timeline
   */
  handoff: boolean;
  /**
   * Include any additions to the task list in the timeline
   */
  addTaskList: boolean;
  /**
   * Include any external link events in the timeline
   */
  externalLink: boolean;
};

export type MediumValueEvents = {
  /**
   * Include any events where the incident's parent changes in the timeline
   */
  parentChanged: boolean;
  /**
   * Include any events where the incident's children change in the timeline
   */
  childChanged: boolean;
  /**
   * Include any related change events in the timeline
   */
  newRelatedChangeEvent: boolean;
  /**
   * Include any runbook step updates in the timeline
   */
  runbookStepExecutionUpdate: boolean;
  /**
   * Include any incident type change events in the timeline
   */
  changeType: boolean;
};

/**
 * audience settings for initial audience creation
 */
export type Settings = {
  /**
   * Include the incident's id in summarization
   */
  id: boolean;
  /**
   * Include the incident's name in summarization
   */
  name: boolean;
  /**
   * Include the datetime the incident started in summarization
   */
  startedAt: boolean;
  /**
   * Include the incident's status in summarization
   */
  status: boolean;
  /**
   * Include the incident's severity in summarization
   */
  severity: boolean;
  /**
   * Include the incident's description in summarization
   */
  description: boolean;
  /**
   * Include the incident's customer impact summary in summarization
   */
  customerImpactSummary: boolean;
  /**
   * Include the incident's current milestone in summarization
   */
  currentMilestone: boolean;
  /**
   * Include each milestone change and any high or medium value event in summarization
   */
  timeline: boolean;
  /**
   * Include all communication (starred or not) in summarization
   */
  communications: boolean;
  /**
   * Include all tickets and tasks in summarization
   */
  workItems: boolean;
  /**
   * Include all impacted catalog items in summarization
   */
  services: boolean;
  /**
   * Include all custom fields for the incident in summarization
   */
  customFields: boolean;
  /**
   * Include all alerts related to the incident in summarization
   */
  alerts: boolean;
  /**
   * Include all information on responders, their roles, and any assigned teams
   */
  responders: boolean;
  highValueEvents: HighValueEvents;
  mediumValueEvents: MediumValueEvents;
};

/**
 * Create a new audience
 */
export type CreateAudience = {
  /**
   * Name of the audience (max 255 characters)
   */
  name: string;
  /**
   * Description of the audience (max 4000 characters)
   */
  description: string;
  /**
   * Whether this is the default audience
   */
  default?: boolean | null | undefined;
  details?: Array<Detail> | null | undefined;
  /**
   * audience settings for initial audience creation
   */
  settings?: Settings | null | undefined;
};

/** @internal */
export const Detail$inboundSchema: z.ZodType<Detail, z.ZodTypeDef, unknown> = z
  .object({
    question: z.string(),
    prompt: z.string(),
    slug: z.nullable(z.string()).optional(),
  });

/** @internal */
export type Detail$Outbound = {
  question: string;
  prompt: string;
  slug?: string | null | undefined;
};

/** @internal */
export const Detail$outboundSchema: z.ZodType<
  Detail$Outbound,
  z.ZodTypeDef,
  Detail
> = z.object({
  question: z.string(),
  prompt: z.string(),
  slug: z.nullable(z.string()).optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Detail$ {
  /** @deprecated use `Detail$inboundSchema` instead. */
  export const inboundSchema = Detail$inboundSchema;
  /** @deprecated use `Detail$outboundSchema` instead. */
  export const outboundSchema = Detail$outboundSchema;
  /** @deprecated use `Detail$Outbound` instead. */
  export type Outbound = Detail$Outbound;
}

export function detailToJSON(detail: Detail): string {
  return JSON.stringify(Detail$outboundSchema.parse(detail));
}

export function detailFromJSON(
  jsonString: string,
): SafeParseResult<Detail, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Detail$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Detail' from JSON`,
  );
}

/** @internal */
export const HighValueEvents$inboundSchema: z.ZodType<
  HighValueEvents,
  z.ZodTypeDef,
  unknown
> = z.object({
  incident_status: z.boolean(),
  bulk_milestone_update: z.boolean(),
  impact_update: z.boolean(),
  handoff: z.boolean(),
  add_task_list: z.boolean(),
  external_link: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    "incident_status": "incidentStatus",
    "bulk_milestone_update": "bulkMilestoneUpdate",
    "impact_update": "impactUpdate",
    "add_task_list": "addTaskList",
    "external_link": "externalLink",
  });
});

/** @internal */
export type HighValueEvents$Outbound = {
  incident_status: boolean;
  bulk_milestone_update: boolean;
  impact_update: boolean;
  handoff: boolean;
  add_task_list: boolean;
  external_link: boolean;
};

/** @internal */
export const HighValueEvents$outboundSchema: z.ZodType<
  HighValueEvents$Outbound,
  z.ZodTypeDef,
  HighValueEvents
> = z.object({
  incidentStatus: z.boolean(),
  bulkMilestoneUpdate: z.boolean(),
  impactUpdate: z.boolean(),
  handoff: z.boolean(),
  addTaskList: z.boolean(),
  externalLink: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    incidentStatus: "incident_status",
    bulkMilestoneUpdate: "bulk_milestone_update",
    impactUpdate: "impact_update",
    addTaskList: "add_task_list",
    externalLink: "external_link",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace HighValueEvents$ {
  /** @deprecated use `HighValueEvents$inboundSchema` instead. */
  export const inboundSchema = HighValueEvents$inboundSchema;
  /** @deprecated use `HighValueEvents$outboundSchema` instead. */
  export const outboundSchema = HighValueEvents$outboundSchema;
  /** @deprecated use `HighValueEvents$Outbound` instead. */
  export type Outbound = HighValueEvents$Outbound;
}

export function highValueEventsToJSON(
  highValueEvents: HighValueEvents,
): string {
  return JSON.stringify(HighValueEvents$outboundSchema.parse(highValueEvents));
}

export function highValueEventsFromJSON(
  jsonString: string,
): SafeParseResult<HighValueEvents, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => HighValueEvents$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'HighValueEvents' from JSON`,
  );
}

/** @internal */
export const MediumValueEvents$inboundSchema: z.ZodType<
  MediumValueEvents,
  z.ZodTypeDef,
  unknown
> = z.object({
  parent_changed: z.boolean(),
  child_changed: z.boolean(),
  new_related_change_event: z.boolean(),
  runbook_step_execution_update: z.boolean(),
  change_type: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    "parent_changed": "parentChanged",
    "child_changed": "childChanged",
    "new_related_change_event": "newRelatedChangeEvent",
    "runbook_step_execution_update": "runbookStepExecutionUpdate",
    "change_type": "changeType",
  });
});

/** @internal */
export type MediumValueEvents$Outbound = {
  parent_changed: boolean;
  child_changed: boolean;
  new_related_change_event: boolean;
  runbook_step_execution_update: boolean;
  change_type: boolean;
};

/** @internal */
export const MediumValueEvents$outboundSchema: z.ZodType<
  MediumValueEvents$Outbound,
  z.ZodTypeDef,
  MediumValueEvents
> = z.object({
  parentChanged: z.boolean(),
  childChanged: z.boolean(),
  newRelatedChangeEvent: z.boolean(),
  runbookStepExecutionUpdate: z.boolean(),
  changeType: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    parentChanged: "parent_changed",
    childChanged: "child_changed",
    newRelatedChangeEvent: "new_related_change_event",
    runbookStepExecutionUpdate: "runbook_step_execution_update",
    changeType: "change_type",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace MediumValueEvents$ {
  /** @deprecated use `MediumValueEvents$inboundSchema` instead. */
  export const inboundSchema = MediumValueEvents$inboundSchema;
  /** @deprecated use `MediumValueEvents$outboundSchema` instead. */
  export const outboundSchema = MediumValueEvents$outboundSchema;
  /** @deprecated use `MediumValueEvents$Outbound` instead. */
  export type Outbound = MediumValueEvents$Outbound;
}

export function mediumValueEventsToJSON(
  mediumValueEvents: MediumValueEvents,
): string {
  return JSON.stringify(
    MediumValueEvents$outboundSchema.parse(mediumValueEvents),
  );
}

export function mediumValueEventsFromJSON(
  jsonString: string,
): SafeParseResult<MediumValueEvents, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => MediumValueEvents$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'MediumValueEvents' from JSON`,
  );
}

/** @internal */
export const Settings$inboundSchema: z.ZodType<
  Settings,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.boolean(),
  name: z.boolean(),
  started_at: z.boolean(),
  status: z.boolean(),
  severity: z.boolean(),
  description: z.boolean(),
  customer_impact_summary: z.boolean(),
  current_milestone: z.boolean(),
  timeline: z.boolean(),
  communications: z.boolean(),
  work_items: z.boolean(),
  services: z.boolean(),
  custom_fields: z.boolean(),
  alerts: z.boolean(),
  responders: z.boolean(),
  high_value_events: z.lazy(() => HighValueEvents$inboundSchema),
  medium_value_events: z.lazy(() => MediumValueEvents$inboundSchema),
}).transform((v) => {
  return remap$(v, {
    "started_at": "startedAt",
    "customer_impact_summary": "customerImpactSummary",
    "current_milestone": "currentMilestone",
    "work_items": "workItems",
    "custom_fields": "customFields",
    "high_value_events": "highValueEvents",
    "medium_value_events": "mediumValueEvents",
  });
});

/** @internal */
export type Settings$Outbound = {
  id: boolean;
  name: boolean;
  started_at: boolean;
  status: boolean;
  severity: boolean;
  description: boolean;
  customer_impact_summary: boolean;
  current_milestone: boolean;
  timeline: boolean;
  communications: boolean;
  work_items: boolean;
  services: boolean;
  custom_fields: boolean;
  alerts: boolean;
  responders: boolean;
  high_value_events: HighValueEvents$Outbound;
  medium_value_events: MediumValueEvents$Outbound;
};

/** @internal */
export const Settings$outboundSchema: z.ZodType<
  Settings$Outbound,
  z.ZodTypeDef,
  Settings
> = z.object({
  id: z.boolean(),
  name: z.boolean(),
  startedAt: z.boolean(),
  status: z.boolean(),
  severity: z.boolean(),
  description: z.boolean(),
  customerImpactSummary: z.boolean(),
  currentMilestone: z.boolean(),
  timeline: z.boolean(),
  communications: z.boolean(),
  workItems: z.boolean(),
  services: z.boolean(),
  customFields: z.boolean(),
  alerts: z.boolean(),
  responders: z.boolean(),
  highValueEvents: z.lazy(() => HighValueEvents$outboundSchema),
  mediumValueEvents: z.lazy(() => MediumValueEvents$outboundSchema),
}).transform((v) => {
  return remap$(v, {
    startedAt: "started_at",
    customerImpactSummary: "customer_impact_summary",
    currentMilestone: "current_milestone",
    workItems: "work_items",
    customFields: "custom_fields",
    highValueEvents: "high_value_events",
    mediumValueEvents: "medium_value_events",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Settings$ {
  /** @deprecated use `Settings$inboundSchema` instead. */
  export const inboundSchema = Settings$inboundSchema;
  /** @deprecated use `Settings$outboundSchema` instead. */
  export const outboundSchema = Settings$outboundSchema;
  /** @deprecated use `Settings$Outbound` instead. */
  export type Outbound = Settings$Outbound;
}

export function settingsToJSON(settings: Settings): string {
  return JSON.stringify(Settings$outboundSchema.parse(settings));
}

export function settingsFromJSON(
  jsonString: string,
): SafeParseResult<Settings, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Settings$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Settings' from JSON`,
  );
}

/** @internal */
export const CreateAudience$inboundSchema: z.ZodType<
  CreateAudience,
  z.ZodTypeDef,
  unknown
> = z.object({
  name: z.string(),
  description: z.string(),
  default: z.nullable(z.boolean().default(false)),
  details: z.nullable(z.array(z.lazy(() => Detail$inboundSchema))).optional(),
  settings: z.nullable(z.lazy(() => Settings$inboundSchema)).optional(),
});

/** @internal */
export type CreateAudience$Outbound = {
  name: string;
  description: string;
  default: boolean | null;
  details?: Array<Detail$Outbound> | null | undefined;
  settings?: Settings$Outbound | null | undefined;
};

/** @internal */
export const CreateAudience$outboundSchema: z.ZodType<
  CreateAudience$Outbound,
  z.ZodTypeDef,
  CreateAudience
> = z.object({
  name: z.string(),
  description: z.string(),
  default: z.nullable(z.boolean().default(false)),
  details: z.nullable(z.array(z.lazy(() => Detail$outboundSchema))).optional(),
  settings: z.nullable(z.lazy(() => Settings$outboundSchema)).optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CreateAudience$ {
  /** @deprecated use `CreateAudience$inboundSchema` instead. */
  export const inboundSchema = CreateAudience$inboundSchema;
  /** @deprecated use `CreateAudience$outboundSchema` instead. */
  export const outboundSchema = CreateAudience$outboundSchema;
  /** @deprecated use `CreateAudience$Outbound` instead. */
  export type Outbound = CreateAudience$Outbound;
}

export function createAudienceToJSON(createAudience: CreateAudience): string {
  return JSON.stringify(CreateAudience$outboundSchema.parse(createAudience));
}

export function createAudienceFromJSON(
  jsonString: string,
): SafeParseResult<CreateAudience, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateAudience$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateAudience' from JSON`,
  );
}
